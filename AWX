This task is to look into different open-source tools that can help us automate and manage both our RHEL and Oracle Linux systems using Ansible. The goal is to understand what AWX offers and compare it with a couple of other open-source options so we can decide which one fits our environment best.

Weâ€™re mainly looking for a tool that gives us a clean UI, handles credentials properly, works with GitLab, and can centralize automation across both operating systems without relying on anything proprietary.


Understand What We Need

 Figure out what the automation needs are for RHEL

 Do the same for Oracle Linux

 Identify what we need in terms of UI, RBAC, API access

 Confirm what GitLab integration should look like

 Note any network or security requirements

Look at the Tools

 Review AWX and what it can do

 Check Semaphore as a simpler alternative

 Review Rundeck with its Ansible plugin

 Compare features and limitations across the tools

 Make sure each tool works well across both RHEL and Oracle Linux

Make a Recommendation

 Summarize what each tool does well (and not so well)

 Consider how easy each one is to maintain long-term

 Recommend the tool that makes the most sense

 Outline what the architecture would look like

 Identify what the next steps should be


=====


Figure out what the automation needs are for RHEL

RHEL systems need a platform that can handle:

Patch orchestration (kernel updates, reboots, package updates)

Baseline configuration (SSH hardening, chrony, firewall rules)

User and key management (automation user, sudo rules)

Compliance checks (CIS/STIG roles)

Inventory grouping by environment (dev/stage/prod)

Credential-based or key-based access using an automation account

AWX can manage all of these since RHEL has strong Ansible support and collections from Red Hat.

Do the same for Oracle Linux

Oracle Linux requires:

Patch workflows using dnf with Oracle-specific repos

Baseline configuration similar to RHEL but with OL differences (kernel, repo paths, python paths)

Support for Ksplice (if your company uses it)

Oracle-specific Ansible collections (oracle.olsystem, oracle.olle)

Ability to manage both UEK kernel systems and non-UEK systems

AWX (or any Ansible controller) can handle these as long as we have Oracle execution environments.

Identify what we need in terms of UI, RBAC, API access

What the team needs:

A simple UI where automation jobs can be launched without CLI

Role-based access so teams only see what they are supposed to

Ability to restrict credentials to certain teams or projects

Job templates with pre-defined safe options

API access for GitLab CI/CD or Service team automation

Audit trail of who ran what and when

Separation of dev/test/prod automation run spaces
AWX provides all of these out of the box.

Confirm what GitLab integration should look like

We need:

AWX to pull playbooks directly from GitLab (no local copies)

GitLab deploy keys or personal access tokens for secure repo access

Branch-based workflows (dev/stage/prod)

Optional webhooks (run a job when a repo changes)

A place to store Ansible Collections, roles, EE definitions, inventories

GitLab Runner (optional) for building Execution Environment images
AWX integrates cleanly with GitLab and supports GitOps-style automation.

Note any network or security requirements

Security needs:

Only outbound SSH from AWX to managed servers (no inbound from servers)

Inbound 443 access only for AWX UI/API

Secure credential storage (SSH keys, tokens, vault passwords)

Option to integrate with LDAP/IdM/AD for authentication

Option to place AWX in DMZ or behind a reverse proxy depending on access needs

Execution Environment image registry must be reachable (internal registry recommended)

Network needs:

K3s node must reach:

GitLab

RHEL and Oracle hosts

Postgres (if external DB is used)

Internal registry (for EE images)

Load balancer (optional) if HA is later required

SELinux considerations depending on OS/hardening





AWX â€“ Automation Controller Platform
Overview

As part of our ongoing platform and automation work, we are evaluating AWX as a centralized orchestration platform for running Ansible at scale.

Red Hat Satellite is already deployed and continues to serve as the primary lifecycle and content management platform for RHEL systems. However, there is currently no equivalent orchestration solution in place for Oracle Linux, nor a shared automation control plane that spans both platforms.

This effort focuses on evaluating AWX as a complementary automation controller that fills those gaps while aligning with our broader move toward containerized, Kubernetes-based platform services.

Progress on this work is being tracked through a dedicated set of Trello cards, with each card representing a specific phase of evaluation, design, or implementation.

What Weâ€™re Trying to Achieve

This initiative is not about replacing existing tooling. It is about extending automation capabilities in a consistent and scalable way.

Current State

Red Hat Satellite

Effectively manages RHEL lifecycle (content, patching, inventory)

Limited scope for Oracle Linux

Not designed as a general-purpose orchestration engine

Automation outside Satellite

Primarily host- or user-driven

Inconsistent execution patterns

No shared orchestration layer across platforms

Target State

A centralized orchestration platform for Ansible

Unified automation for RHEL and Oracle Linux

Git-driven workflows and repeatable execution

Strong RBAC and credential isolation

A solution that fits naturally into a Kubernetes-based platform model

AWX is being evaluated specifically to act as this orchestration layer alongside Satellite.

What is AWX?

AWX is the open-source upstream project for Red Hat Ansible Automation Platform.
It provides a web UI, API, and execution framework for running Ansible in a controlled, repeatable manner.

In practical terms, AWX provides:

Centralized execution of Ansible playbooks

Inventory and credential management

Role-based access control

Job templates and workflows

Containerized execution environments for consistency

AWX removes the need to run automation directly from engineer workstations or ad-hoc jump hosts and instead treats automation as a shared platform service.

High-Level Architecture (Conceptual)

At a high level, AWX is intended to run as a platform service on Kubernetes:

RHEL 9 hosts provide the underlying operating system

Kubernetes (under evaluation: K3s vs Rancher-managed Kubernetes) hosts the control plane

AWX runs as containerized workloads managed by the AWX Operator

PostgreSQL is used as the backend database

Execution Environments run Ansible jobs in isolated containers

Git repositories act as the source of truth for automation content

This design allows the platform to start small while supporting future growth, HA, and integration with other platform services.

Work Tracking via Trello

This effort is being tracked through a series of Trello cards to clearly document:

Evaluation work

Design decisions

Implementation steps

Open questions and next actions

Each card represents a discrete phase of the work and includes checklists to make progress and ownership clear.

Trello Work Breakdown
ðŸ”¶ Card 1: Evaluate Open-Source Orchestration Options (AWX vs Alternatives)

Focus: Tool evaluation and decision-making

Checklist:

Identify requirements (RHEL + Oracle Linux support)

Review AWX

Review Semaphore

Review Rundeck

Compare capabilities and gaps

Recommend a standard orchestration platform

ðŸ”¶ Card 2: Define AWX Deployment Architecture

Focus: Platform design

Checklist:

Evaluate Kubernetes options (K3s vs Rancher)

RHEL 9 as host OS

Network and firewall requirements

Internal vs DMZ placement

Draft initial architecture concepts

ðŸ”¶ Card 3: Determine HA Requirements

Focus: Scalability and resilience

Checklist:

AWX replicas

Database considerations (external PostgreSQL vs Kubernetes-native options)

Execution node scaling

Failover and recovery considerations

ðŸ”¶ Card 4: GitLab Integration Design

Focus: Source control and workflow integration

Checklist:

AWX project configuration

SSH keys / OAuth credentials

Repository layout for automation

Webhook triggers

GitOps-style workflow alignment

ðŸ”¶ Card 5: Provision RHEL Servers for Kubernetes + AWX

Focus: Infrastructure readiness

Checklist:

Request VMs

Configure OS baseline

Apply hardening standards

Prepare storage

Prepare networking

ðŸ”¶ Card 6: Install Kubernetes

Focus: Cluster setup

Checklist:

Install Kubernetes (implementation TBD)

Validate cluster health

Configure storage provisioning

kubectl access

Backup and recovery considerations

ðŸ”¶ Card 7: Deploy AWX Operator

Focus: Controller deployment foundation

Checklist:

Install operator

Validate CRDs

Operator namespace design

Version pinning

ðŸ”¶ Card 8: Deploy AWX Instance

Focus: Initial controller deployment

Checklist:

Create AWX custom resource

Configure credentials

Set initial replicas

Expose AWX service

Validate UI access

ðŸ”¶ Card 9: Configure Execution Environments

Focus: Runtime consistency

Checklist:

Build RHEL execution environment

Build Oracle Linux execution environment

Push images to internal registry

Map EEs to job templates

ðŸ”¶ Card 10: Build Inventories for RHEL + Oracle Linux

Focus: Target systems

Checklist:

Create static groups

Add host variables

Test connectivity

Validate credentials

ðŸ”¶ Card 11: Develop Baseline Automation Playbooks

Focus: Core automation

Checklist:

RHEL baseline

Oracle Linux baseline

SSH hardening

Chrony

Firewall rules

Package baseline

ðŸ”¶ Card 12: Build Patching Workflow

Focus: Day-2 operations

Checklist:

RHEL update playbooks

Oracle Linux update playbooks

Reboot logic

Post-update validation

AWX workflow templates

ðŸ”¶ Card 13: Documentation

Focus: Knowledge sharing

Checklist:

Architecture overview

Deployment guides

Integration documentation

Runbooks

Troubleshooting

ðŸ”¶ Card 14: Rollout Plan

Focus: Adoption

Checklist:

Pilot systems

Feedback

Adjust automation

Full rollout plan

Handoff to operations

References

AWX Project: https://github.com/ansible/awx

AWX Documentation: https://ansible.readthedocs.io/projects/awx/
============

ðŸ”¶ Card 2: Define AWX Deployment Architecture

Description

This card focuses on defining how AWX should be deployed and what platform it should run on, before committing to a specific implementation.

The goal is to agree on a sane, supportable baseline architecture that works in a test environment and can later be adapted for production.

This is intentionally design-focused, not installation-focused.

â¸»

Requirements Gathering
	â€¢	Determine which Kubernetes distribution is appropriate (K3s vs Rancher-managed Kubernetes)
	â€¢	Confirm RHEL 9 as the standard host OS
	â€¢	Identify minimum resource requirements
	â€¢	Define storage needs (local vs external)
	â€¢	Identify ingress and service exposure requirements
	â€¢	Identify database placement (internal vs external PostgreSQL)
	â€¢	Understand firewall and DNS dependencies early

â¸»

Architecture Considerations
	â€¢	Single-node vs multi-node Kubernetes
	â€¢	Internal-only access vs DMZ exposure
	â€¢	Operator-based lifecycle management
	â€¢	Separation of control plane and execution
	â€¢	Alignment with containerized platform standards

â¸»

Outcome
	â€¢	A documented baseline architecture suitable for test environments
	â€¢	Clear direction on Kubernetes choice and deployment model
	â€¢	Inputs for follow-on cards (HA, networking, provisioning)

â¸»

ðŸ”¶ Card 3: Determine HA Requirements

Description

This card evaluates high availability requirements for AWX and determines what level of HA is actually needed, both short-term and long-term.

The intent is to avoid over-engineering early while still understanding what changes would be required to support HA later.

â¸»

Requirements Gathering
	â€¢	Understand AWX scaling model (web, task, execution)
	â€¢	Identify components that can be replicated
	â€¢	Identify components that require externalization (PostgreSQL)
	â€¢	Understand Kubernetes implications for HA
	â€¢	Define acceptable downtime for test vs production environments

â¸»

Areas of Evaluation
	â€¢	AWX web/task replicas
	â€¢	Execution node scaling
	â€¢	PostgreSQL HA requirements
	â€¢	Kubernetes node redundancy
	â€¢	Backup and restore considerations

â¸»

Outcome
	â€¢	Clear distinction between test environment HA and production HA
	â€¢	Guidance on when HA becomes necessary
	â€¢	Inputs for future architecture and capacity planning

â¸»

ðŸ”¶ Card 4: GitLab Integration Design (Not Started)

Description

This card defines how AWX should integrate with GitLab to support Git-driven automation workflows.

The goal is to treat Git as the source of truth for automation content while allowing AWX to execute, audit, and control access.

â¸»

Requirements Gathering
	â€¢	Define repository structure for playbooks and roles
	â€¢	Decide between SSH keys vs OAuth
	â€¢	Identify webhook requirements
	â€¢	Determine how changes trigger automation
	â€¢	Define separation between test and production automation

â¸»

Integration Considerations
	â€¢	Credential storage and rotation
	â€¢	Branch-based workflows
	â€¢	Promotion models (dev â†’ prod)
	â€¢	Auditability and traceability
	â€¢	GitOps-style execution patterns

â¸»

Outcome
	â€¢	Clear GitLab integration model
	â€¢	Inputs for AWX project and credential configuration
	â€¢	Foundation for repeatable automation workflows

â¸»

ðŸ”¶ Card 5: Provision RHEL Server for Kubernetes + AWX

Description

This card focuses on preparing the underlying host system that will run Kubernetes and AWX.

The goal is to ensure the OS layer is properly configured before introducing Kubernetes or application workloads.

â¸»

Requirements Gathering
	â€¢	VM sizing (CPU, memory, disk)
	â€¢	OS version and patch level
	â€¢	Baseline hardening requirements
	â€¢	Disk layout and storage preparation
	â€¢	Network and DNS configuration
	â€¢	Firewall considerations

â¸»

Preparation Areas
	â€¢	RHEL registration and repos
	â€¢	Time sync and base services
	â€¢	Kernel and sysctl considerations
	â€¢	Storage paths for Kubernetes workloads
	â€¢	Network routing and name resolution

â¸»

Outcome
	â€¢	A repeatable baseline for Kubernetes hosts
	â€¢	Reduced troubleshooting later in the stack
	â€¢	Clean handoff to Kubernetes installation

â¸»

ðŸ”¶ Card 6: Install Kubernetes (K3s / Rancher)

Description

This card evaluates and installs Kubernetes as the runtime platform for AWX.

The focus is on identifying a Kubernetes distribution that balances simplicity, manageability, and future growth.

â¸»

Requirements Gathering
	â€¢	Compare K3s vs Rancher-managed Kubernetes (RKE2)
	â€¢	Evaluate operational overhead
	â€¢	Evaluate RBAC and cluster management needs
	â€¢	Understand DNS and networking behavior
	â€¢	Identify storage integration requirements

â¸»

Areas of Evaluation
	â€¢	K3s installation and validation
	â€¢	Rancher UI capabilities (RBAC, cluster visibility, management)
	â€¢	DNS behavior and service discovery
	â€¢	Add-on requirements (storage, ingress)
	â€¢	kubectl access and admin workflows

â¸»

Outcome
	â€¢	Kubernetes platform validated in test environment
	â€¢	Clear understanding of operational tradeoffs
	â€¢	Foundation for running AWX as a platform service

â¸»

ðŸ”¶ Card 7: Deploy AWX Operator

Description

This card focuses on deploying the AWX Operator, which manages the lifecycle of AWX instances inside Kubernetes.

The operator model is key to keeping deployments consistent and maintainable.

â¸»

Requirements Gathering
	â€¢	Operator installation method
	â€¢	Namespace and RBAC requirements
	â€¢	CRDs introduced by the operator
	â€¢	Version pinning strategy
	â€¢	Upgrade considerations

â¸»

Areas of Focus
	â€¢	Operator health and reconciliation behavior
	â€¢	Namespace isolation
	â€¢	Permissions model
	â€¢	Compatibility with chosen Kubernetes distribution

â¸»

Outcome
	â€¢	Operator installed and validated
	â€¢	AWX lifecycle managed declaratively
	â€¢	Platform aligned with Kubernetes best practices

â¸»

ðŸ”¶ Card 8: Deploy AWX Instance

Description

This card covers deploying the actual AWX instance using the operator, based on decisions made in earlier cards.

This is where architecture decisions begin to materialize into a running service.

â¸»

Requirements Gathering
	â€¢	AWX custom resource configuration
	â€¢	Initial replica counts
	â€¢	Service exposure model
	â€¢	Database connectivity
	â€¢	Credential bootstrapping

â¸»

Deployment Considerations
	â€¢	Internal vs external access
	â€¢	Initial admin access
	â€¢	Resource limits and requests
	â€¢	Log visibility and troubleshooting

â¸»

Outcome
	â€¢	AWX running in a test environment
	â€¢	UI accessible for validation
	â€¢	Baseline deployment ready for iteration




