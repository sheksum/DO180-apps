#!/bin/bash

# File containing iDRAC hostnames
idrac_list="idrac_hosts.txt"

# Credentials
user="redfin"
password="YourPasswordHere"

# Loop through hostnames and power on
while IFS= read -r host; do
  echo "Powering on $host"
  sshpass -p "$password" ssh -o StrictHostKeyChecking=no "$user@$host" racadm serveraction powerup
done < "$idrac_list"
