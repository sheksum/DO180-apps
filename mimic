Bug Fix: Prevent goa-daemon Log Spam and Filesystem Bloat on Ubuntu/GNOME

Environment
Ubuntu Desktop (GNOME)
Also applies to RHEL 7/8/9 systems with GNOME installed
Issue
After logging into a GNOME session, users may encounter repeated messages in /var/log/syslog or visible in terminal windows:

goa-daemon[PID]: goa_provider_get_for_provider_type: assertion 'provider_type != NULL' failed
goa-daemon[PID]: Unsupported account type (null) for identity (null) (no provider)
Root Cause
This issue is due to a known bug in goa-daemon, part of GNOME Online Accounts. It occurs when misconfigured or null account entries exist in the user’s session.

This bug was filed in RHEL 7 but marked WONTFIX. The same behavior is also seen in Ubuntu and similar GNOME environments.
Impact
Constant log spam in /var/log/syslog and/or journalctl
Increased CPU usage in some environments
Can cause the /var/log or / filesystem to fill up over time, potentially leading to service or system instability
Affects systems running GNOME with unused or broken Online Accounts
Workaround
Note: This workaround disables GNOME Online Accounts (GOA) support, such as Google/Microsoft integration.
1. Log out of all GUI sessions

Ensure the user is logged out, or use a TTY/SSH session to proceed.

2. Modify the D-Bus service files

Edit /usr/share/dbus-1/services/org.gnome.Identity.service:

[D-BUS Service]
Name=org.gnome.Identity
#Exec=/usr/libexec/goa-identity-service
Exec=/bin/false
Edit /usr/share/dbus-1/services/org.gnome.OnlineAccounts.service:

[D-BUS Service]
Name=org.gnome.OnlineAccounts
#Exec=/usr/libexec/goa-daemon
Exec=/bin/false
3. Apply the fix

Option A – Reboot the system:

sudo reboot
Option B – Kill the daemons manually:

pkill goa-daemon
pkill goa-identity-service
Result
Prevents the goa-daemon from launching and spamming logs
Eliminates risk of log-related disk space exhaustion
Safe to apply if online account integration is not used
