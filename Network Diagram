┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                                                                                         │
│                    OPENSHIFT ON UCS-X WITH NETAPP TRIDENT                              │
│                                                                                         │
└─────────────────────────────────────────────────────────────────────────────────────────┘


                                   UCS-X CHASSIS
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                                                                                         │
│   ┌───────────┐ ┌───────────┐ ┌───────────┐ ┌───────────┐ ┌───────────┐               │
│   │  BLADE 1  │ │  BLADE 2  │ │  BLADE 3  │ │  BLADE 4  │ │  BLADE 5  │               │
│   │ Master/Wkr│ │ Master/Wkr│ │ Master/Wkr│ │ GPU Worker│ │ GPU Worker│               │
│   │           │ │           │ │           │ │           │ │           │               │
│   │Trunk vNIC │ │Trunk vNIC │ │Trunk vNIC │ │Trunk vNIC │ │Trunk vNIC │               │
│   └─────┬─────┘ └─────┬─────┘ └─────┬─────┘ └─────┬─────┘ └─────┬─────┘               │
│         │             │             │             │             │                      │
│         └─────────────┴──────┬──────┴─────────────┴─────────────┘                      │
│                              │                                                         │
│                  ┌───────────┴───────────┐                                             │
│                  │  FABRIC INTERCONNECTS │                                             │
│                  │                       │                                             │
│                  │  Trunk VLANs:         │                                             │
│                  │  1792, 1794 (Dev)     │                                             │
│                  │  1796, 1798 (Test)    │                                             │
│                  │  1800, 1802 (Prod)    │                                             │
│                  └───────────┬───────────┘                                             │
│                              │                                                         │
└──────────────────────────────┼──────────────────────────────────────────────────────────┘
                               │
                               │
                    ┌──────────┴──────────┐
                    │                     │
                    │    LEAF 1 / LEAF 2  │
                    │    (Spine/Leaf)     │
                    │                     │
                    └──────────┬──────────┘
                               │
              ┌────────────────┴────────────────┐
              │                                 │
      INFRA VLANs (Mgmt)                  APP VLANs
      1792, 1796, 1800                    1794, 1798, 1802
              │                                 │
              ▼                                 ▼
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                                                                                         │
│                                    NETAPP ONTAP                                         │
│                                   (Storage Cluster)                                     │
│                                                                                         │
│     ┌─────────────────────────────┐         ┌─────────────────────────────┐            │
│     │      ocp-infra-svm          │         │       ocp-app-svm           │            │
│     │   (Registry, Logging,       │         │    (Apps, Databases,        │            │
│     │    Monitoring)              │         │     AI/ML Workloads)        │            │
│     │                             │         │                             │            │
│     │  LIFs:                      │         │  LIFs:                      │            │
│     │  ┌────────────────────────┐ │         │  ┌────────────────────────┐ │            │
│     │  │VLAN 1792 (Dev)         │ │         │  │VLAN 1794 (Dev)         │ │            │
│     │  │10.172.192.x            │ │         │  │10.172.194.x            │ │            │
│     │  │                        │ │         │  │                        │ │            │
│     │  │VLAN 1796 (Test)        │ │         │  │VLAN 1798 (Test)        │ │            │
│     │  │10.172.196.x            │ │         │  │10.172.198.x            │ │            │
│     │  │                        │ │         │  │                        │ │            │
│     │  │VLAN 1800 (Prod)        │ │         │  │VLAN 1802 (Prod)        │ │            │
│     │  │10.172.200.x            │ │         │  │10.172.202.x            │ │            │
│     │  └────────────────────────┘ │         │  └────────────────────────┘ │            │
│     │                             │         │                             │            │
│     │  Policies:                  │         │  Policies:                  │            │
│     │  • Guaranteed IOPS          │         │  • Burstable QoS            │            │
│     │  • Hourly snapshots         │         │  • Daily snapshots          │            │
│     │  • Thick provisioned        │         │  • Thin provisioned         │            │
│     └─────────────────────────────┘         └─────────────────────────────┘            │
│                                                                                         │
└─────────────────────────────────────────────────────────────────────────────────────────┘


┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                                                                                         │
│                              TRIDENT CSI LAYER                                          │
│                         (Connects OpenShift to NetApp)                                  │
│                                                                                         │
├─────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                         │
│     BACKENDS                                    STORAGECLASSES                          │
│     (Talk to NetApp SVMs)                       (What developers request)               │
│                                                                                         │
│     ┌─────────────────────────────┐            ┌─────────────────────────────┐         │
│     │ backend-infra-dev           │            │ infra-dev-nfs               │         │
│     │   → SVM: ocp-infra-svm      │            │   → backend-infra-dev       │         │
│     │   → LIF: 10.172.192.x       │            │                             │         │
│     │   → VLAN: 1792              │            │ infra-test-nfs              │         │
│     │                             │            │   → backend-infra-test      │         │
│     │ backend-infra-test          │            │                             │         │
│     │   → SVM: ocp-infra-svm      │            │ infra-prod-nfs              │         │
│     │   → LIF: 10.172.196.x       │            │   → backend-infra-prod      │         │
│     │   → VLAN: 1796              │            │                             │         │
│     │                             │            │ app-dev-nfs                 │         │
│     │ backend-infra-prod          │            │   → backend-app-dev         │         │
│     │   → SVM: ocp-infra-svm      │            │                             │         │
│     │   → LIF: 10.172.200.x       │            │ app-test-nfs                │         │
│     │   → VLAN: 1800              │            │   → backend-app-test        │         │
│     │                             │            │                             │         │
│     │ backend-app-dev             │            │ app-prod-nfs                │         │
│     │   → SVM: ocp-app-svm        │            │   → backend-app-prod        │         │
│     │   → LIF: 10.172.194.x       │            │                             │         │
│     │   → VLAN: 1794              │            └─────────────────────────────┘         │
│     │                             │                                                     │
│     │ backend-app-test            │                                                     │
│     │   → SVM: ocp-app-svm        │                                                     │
│     │   → LIF: 10.172.198.x       │                                                     │
│     │   → VLAN: 1798              │                                                     │
│     │                             │                                                     │
│     │ backend-app-prod            │                                                     │
│     │   → SVM: ocp-app-svm        │                                                     │
│     │   → LIF: 10.172.202.x       │                                                     │
│     │   → VLAN: 1802              │                                                     │
│     └─────────────────────────────┘                                                     │
│                                                                                         │
└─────────────────────────────────────────────────────────────────────────────────────────┘


┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                                                                                         │
│                              OPENSHIFT LOGICAL ENVIRONMENTS                             │
│                                                                                         │
├─────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                         │
│   ┌─────────────────────┐ ┌─────────────────────┐ ┌─────────────────────┐              │
│   │         DEV         │ │        TEST         │ │        PROD         │              │
│   │                     │ │                     │ │                     │              │
│   │  Namespaces:        │ │  Namespaces:        │ │  Namespaces:        │              │
│   │  • myapp-dev        │ │  • myapp-test       │ │  • myapp-prod       │              │
│   │  • logging-dev      │ │  • logging-test     │ │  • logging-prod     │              │
│   │                     │ │                     │ │                     │              │
│   │  Storage:           │ │  Storage:           │ │  Storage:           │              │
│   │  • infra-dev-nfs    │ │  • infra-test-nfs   │ │  • infra-prod-nfs   │              │
│   │  • app-dev-nfs      │ │  • app-test-nfs     │ │  • app-prod-nfs     │              │
│   │                     │ │                     │ │                     │              │
│   │  Networks:          │ │  Networks:          │ │  Networks:          │              │
│   │  • VLAN 1792 (Infra)│ │  • VLAN 1796 (Infra)│ │  • VLAN 1800 (Infra)│              │
│   │  • VLAN 1794 (App)  │ │  • VLAN 1798 (App)  │ │  • VLAN 1802 (App)  │              │
│   └─────────────────────┘ └─────────────────────┘ └─────────────────────┘              │
│                                                                                         │
└─────────────────────────────────────────────────────────────────────────────────────────┘


┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                                      VLAN MAP                                           │
├────────┬───────────────────┬─────────────┬──────────┬─────────────────────────────────────┤
│  VLAN  │      NETWORK      │     SVM     │   ENV    │             PURPOSE                │
├────────┼───────────────────┼─────────────┼──────────┼─────────────────────────────────────┤
│  1792  │  10.172.192.0/23  │  ocp-infra  │   Dev    │  Infra (registry, logging, metrics) │
│  1794  │  10.172.194.0/23  │  ocp-app    │   Dev    │  Apps (databases, AI/ML)            │
│  1796  │  10.172.196.0/23  │  ocp-infra  │   Test   │  Infra (registry, logging, metrics) │
│  1798  │  10.172.198.0/23  │  ocp-app    │   Test   │  Apps (databases, AI/ML)            │
│  1800  │  10.172.200.0/23  │  ocp-infra  │   Prod   │  Infra (registry, logging, metrics) │
│  1802  │  10.172.202.0/23  │  ocp-app    │   Prod   │  Apps (databases, AI/ML)            │
└────────┴───────────────────┴─────────────┴──────────┴─────────────────────────────────────┘


┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                                   QUICK REFERENCE                                       │
├─────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                         │
│   5 Blades: 3 Master/Worker + 2 GPU Worker (all share same VLANs)                      │
│   2 SVMs: ocp-infra-svm + ocp-app-svm                                                  │
│   6 VLANs: 1792, 1796, 1800 (Infra) + 1794, 1798, 1802 (Apps)                         │
│                                                                                         │
│   VLAN Pattern:                                                                        │
│   • Even VLANs ending in 2/6/0 = Infrastructure (Mgmt)                                 │
│   • Even VLANs ending in 4/8/2 = Application                                           │
│   • Increment by 4 per environment (Dev → Test → Prod)                                 │
│                                                                                         │
└─────────────────────────────────────────────────────────────────────────────────────────┘


┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                              TRAFFIC FLOW EXAMPLE                                       │
├─────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                         │
│   Developer creates PVC in prod namespace:                                             │
│                                                                                         │
│   storageClassName: app-prod-nfs                                                       │
│            │                                                                            │
│            ▼                                                                            │
│   Trident → backend-app-prod                                                           │
│            │                                                                            │
│            ▼                                                                            │
│   SVM: ocp-app-svm                                                                     │
│   LIF: 10.172.202.x (VLAN 1802)                                                        │
│            │                                                                            │
│            ▼                                                                            │
│   Worker mounts NFS via VLAN 1802                                                      │
│   10.172.202.x (blade) → 10.172.202.x (NetApp LIF)                                    │
│            │                                                                            │
│            ▼                                                                            │
│   Pod gets storage ✓                                                                   │
│                                                                                         │
└─────────────────────────────────────────────────────────────────────────────────────────┘
