DEV_PASS=$(openssl rand -base64 24)
TEST_PASS=$(openssl rand -base64 24)
PROD_PASS=$(openssl rand -base64 24)

echo "Dev:  $DEV_PASS"
echo "Test: $TEST_PASS"
echo "Prod: $PROD_PASS"

vault kv put kv/pai/dev/minio-credentials MINIO_ROOT_USER=minioadmin MINIO_ROOT_PASSWORD="$DEV_PASS"
vault kv put kv/pai/test/minio-credentials MINIO_ROOT_USER=minioadmin MINIO_ROOT_PASSWORD="$TEST_PASS"
vault kv put kv/pai/prod/minio-credentials MINIO_ROOT_USER=minioadmin MINIO_ROOT_PASSWORD="$PROD_PASS"


# Copy 01-external-secrets.yaml and 02-minio-all-envs.yaml to plnx-admin first
# Then:
oc apply -f 01-external-secrets.yaml

# Wait for sync, verify
oc get externalsecrets -A | grep minio
# All three should show SecretSynced / True


oc apply -f 02-minio-all-envs.yaml


# Pods running
oc get pods -n pai-dev -l app=minio
oc get pods -n pai-test -l app=minio
oc get pods -n pai-prod -l app=minio

# LB IPs assigned
oc get svc -A --field-selector spec.type=LoadBalancer

# HTTPRoutes
oc get httproutes -A | grep minio

# Health check
curl -sk https://minio.dev.ocp-ai.calix.local





Create ObjectStore


Create by completing the form. Default values may be provided by the Operator authors.
Configure via:

Form view

YAML view

provided by MinIO


Info alert:Note: Some fields may not be represented in this form view. Please select "YAML view" for full control.
Name

Labels
app=minio




pools


firewall


initContainers


cache

serviceAccountName


liveness

rollingTimeoutSeconds

subPath


readiness


lifecycle


env


prometheusOperatorScrapeMetricsPaths

prometheusOperator

prometheusOperator

sftp


imagePullSecret


additionalVolumes

imagePullPolicy


configuration


sideCars

pvcProtection

pvcProtection

kes

podManagementPolicy


additionalVolumeMounts

image


certificates


startup


services

mountPath

priorityClassName


logging


scheduler


Create

Cancel


