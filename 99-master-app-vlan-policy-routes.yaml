hsuma@plnx-admin:~/ocp-ai-config$ oc logs -n pai-prod deploy/milvus | grep -i -E "error|fail|panic|started|listening|ready" | head -20
Set runtime dir at /run/milvus failed, set it to /tmp/milvus directory
{"level":"warn","ts":"2026-03-01T06:10:24.535608Z","caller":"fileutil/fileutil.go:53","msg":"check file permission","error":"directory \"/var/lib/milvus/etcd\" exist, but the permission is \"dgrwxrwxrwx\". The recommended permission is \"-rwx------\" to prevent possible unprivileged access to the data"}
{"level":"info","ts":"2026-03-01T06:10:24.538844Z","caller":"fileutil/purge.go:50","msg":"started to purge file","dir":"/var/lib/milvus/etcd/member/snap","suffix":"snap.db","max":5,"interval":"30s"}
{"level":"info","ts":"2026-03-01T06:10:24.538886Z","caller":"fileutil/purge.go:50","msg":"started to purge file","dir":"/var/lib/milvus/etcd/member/snap","suffix":"snap","max":5,"interval":"30s"}
{"level":"info","ts":"2026-03-01T06:10:24.538894Z","caller":"fileutil/purge.go:50","msg":"started to purge file","dir":"/var/lib/milvus/etcd/member/wal","suffix":"wal","max":5,"interval":"30s"}
{"level":"info","ts":"2026-03-01T06:10:24.538904Z","caller":"etcdserver/server.go:759","msg":"started as single-node; fast-forwarding election ticks","local-member-id":"8e9e05c52164694d","forward-ticks":9,"forward-duration":"900ms","election-ticks":10,"election-timeout":"1s"}
[2026/03/01 06:10:24.540 +00:00] [INFO] [resolver/resolver_with_discoverer.go:152] ["service discover task started, listening..."] [prefix=by-dev/meta/session/mixcoord] [exclusive=true] [semver=">=2.6.0-dev"] [component=grpc-resolver] [scheme=milvus-session]
[2026/03/01 06:10:24.544 +00:00] [INFO] [resolver/resolver_with_discoverer.go:152] ["service discover task started, listening..."] [component=grpc-resolver] [scheme=channel-assignment]
[2026/03/01 06:10:24.544 +00:00] [WARN] [resolver/watch_based_grpc_resolver.go:54] ["fail to update resolver state"] [component=grpc-resolver] [scheme=channel-assignment] [id=2] [state="Version: -1/-1, Addrs: "] [error="bad resolver state"]
[2026/03/01 06:10:24.544 +00:00] [WARN] [resolver/watch_based_grpc_resolver.go:54] ["fail to update resolver state"] [prefix=by-dev/meta/session/mixcoord] [exclusive=true] [semver=">=2.6.0-dev"] [component=grpc-resolver] [scheme=milvus-session] [id=1] [state="Version: 1, Addrs: "] [error="bad resolver state"]
{"level":"info","ts":"2026-03-01T06:10:24.638434Z","caller":"embed/serve.go:124","msg":"ready to serve client requests"}
[2026/03/01 06:10:24.638 +00:00] [WARN] [grpcclient/client.go:260] ["failed to get client address"] [error="etcdserver: leader changed"]
[2026/03/01 06:10:24.638 +00:00] [WARN] [grpcclient/client.go:469] ["fail to get grpc client"] [client_role=mixcoord] [error="etcdserver: leader changed"]
[2026/03/01 06:10:24.638 +00:00] [WARN] [grpcclient/client.go:490] ["grpc client is nil, maybe fail to get client in the retry state"] [client_role=mixcoord] [error="empty grpc client: etcdserver: leader changed"] [errorVerbose="empty grpc client: etcdserver: leader changed\n(1) attached stack trace\n  -- stack trace:\n  | github.com/milvus-io/milvus/internal/util/grpcclient.(*ClientBase[...]).call.func2\n  | \t/workspace/source/internal/util/grpcclient/client.go:489\n  | github.com/milvus-io/milvus/pkg/v2/util/retry.Handle\n  | \t/workspace/source/pkg/util/retry/retry.go:145\n  | github.com/milvus-io/milvus/internal/util/grpcclient.(*ClientBase[...]).call\n  | \t/workspace/source/internal/util/grpcclient/client.go:482\n  | github.com/milvus-io/milvus/internal/util/grpcclient.(*ClientBase[...]).Call\n  | \t/workspace/source/internal/util/grpcclient/client.go:569\n  | github.com/milvus-io/milvus/internal/util/grpcclient.(*ClientBase[...]).ReCall\n  | \t/workspace/source/internal/util/grpcclient/client.go:585\n  | github.com/milvus-io/milvus/internal/distributed/mixcoord/client.wrapGrpcCall[...]\n  | \t/workspace/source/internal/distributed/mixcoord/client/client.go:158\n  | github.com/milvus-io/milvus/internal/distributed/mixcoord/client.(*Client).GetComponentStates\n  | \t/workspace/source/internal/distributed/mixcoord/client/client.go:172\n  | github.com/milvus-io/milvus/internal/util/componentutil.WaitForComponentStates[...].func1\n  | \t/workspace/source/internal/util/componentutil/componentutil.go:39\n  | github.com/milvus-io/milvus/pkg/v2/util/retry.Do\n  | \t/workspace/source/pkg/util/retry/retry.go:54\n  | github.com/milvus-io/milvus/internal/util/componentutil.WaitForComponentStates[...]\n  | \t/workspace/source/internal/util/componentutil/componentutil.go:64\n  | github.com/milvus-io/milvus/internal/util/componentutil.WaitForComponentHealthy[...]\n  | \t/workspace/source/internal/util/componentutil/componentutil.go:85\n  | github.com/milvus-io/milvus/internal/distributed/proxy.(*Server).init\n  | \t/workspace/source/internal/distributed/proxy/service.go:493\n  | github.com/milvus-io/milvus/internal/distributed/proxy.(*Server).Run\n  | \t/workspace/source/internal/distributed/proxy/service.go:419\n  | github.com/milvus-io/milvus/cmd/components.(*Proxy).Run\n  | \t/workspace/source/cmd/components/proxy.go:60\n  | github.com/milvus-io/milvus/cmd/roles.runComponent[...].func1\n  | \t/workspace/source/cmd/roles/roles.go:139\n  | github.com/milvus-io/milvus/pkg/v2/util/conc.Go[...].func1\n  | \t/workspace/source/pkg/util/conc/future.go:96\n  | runtime.goexit\n  | \t/usr/local/go/src/runtime/asm_amd64.s:1700\nWraps: (2) empty grpc client\nWraps: (3) etcdserver: leader changed\nError types: (1) *withstack.withStack (2) *errutil.withPrefix (3) rpctypes.EtcdError"]
[2026/03/01 06:10:24.638 +00:00] [WARN] [grpcclient/client.go:260] ["failed to get client address"] [error="find no available mixcoord, check mixcoord state"] [errorVerbose="find no available mixcoord, check mixcoord state\n(1) attached stack trace\n  -- stack trace:\n  | github.com/milvus-io/milvus/internal/distributed/mixcoord/client.(*Client).getCompatibleMixCoordAddr\n  | \t/workspace/source/internal/distributed/mixcoord/client/client.go:145\n  | github.com/milvus-io/milvus/internal/distributed/mixcoord/client.(*Client).getMixCoordAddr\n  | \t/workspace/source/internal/distributed/mixcoord/client/client.go:120\n  | github.com/milvus-io/milvus/internal/util/grpcclient.(*ClientBase[...]).connect\n  | \t/workspace/source/internal/util/grpcclient/client.go:258\n  | github.com/milvus-io/milvus/internal/util/grpcclient.(*ClientBase[...]).GetGrpcClient\n  | \t/workspace/source/internal/util/grpcclient/client.go:224\n  | github.com/milvus-io/milvus/internal/util/grpcclient.(*ClientBase[...]).call.func1\n  | \t/workspace/source/internal/util/grpcclient/client.go:474\n  | github.com/milvus-io/milvus/internal/util/grpcclient.(*ClientBase[...]).call.func2\n  | \t/workspace/source/internal/util/grpcclient/client.go:491\n  | github.com/milvus-io/milvus/pkg/v2/util/retry.Handle\n  | \t/workspace/source/pkg/util/retry/retry.go:145\n  | github.com/milvus-io/milvus/internal/util/grpcclient.(*ClientBase[...]).call\n  | \t/workspace/source/internal/util/grpcclient/client.go:482\n  | github.com/milvus-io/milvus/internal/util/grpcclient.(*ClientBase[...]).Call\n  | \t/workspace/source/internal/util/grpcclient/client.go:569\n  | github.com/milvus-io/milvus/internal/util/grpcclient.(*ClientBase[...]).ReCall\n  | \t/workspace/source/internal/util/grpcclient/client.go:585\n  | github.com/milvus-io/milvus/internal/distributed/mixcoord/client.wrapGrpcCall[...]\n  | \t/workspace/source/internal/distributed/mixcoord/client/client.go:158\n  | github.com/milvus-io/milvus/internal/distributed/mixcoord/client.(*Client).GetComponentStates\n  | \t/workspace/source/internal/distributed/mixcoord/client/client.go:172\n  | github.com/milvus-io/milvus/internal/util/componentutil.WaitForComponentStates[...].func1\n  | \t/workspace/source/internal/util/componentutil/componentutil.go:39\n  | github.com/milvus-io/milvus/pkg/v2/util/retry.Do\n  | \t/workspace/source/pkg/util/retry/retry.go:54\n  | github.com/milvus-io/milvus/internal/util/componentutil.WaitForComponentStates[...]\n  | \t/workspace/source/internal/util/componentutil/componentutil.go:64\n  | github.com/milvus-io/milvus/internal/util/componentutil.WaitForComponentHealthy[...]\n  | \t/workspace/source/internal/util/componentutil/componentutil.go:85\n  | github.com/milvus-io/milvus/internal/distributed/proxy.(*Server).init\n  | \t/workspace/source/internal/distributed/proxy/service.go:493\n  | github.com/milvus-io/milvus/internal/distributed/proxy.(*Server).Run\n  | \t/workspace/source/internal/distributed/proxy/service.go:419\n  | github.com/milvus-io/milvus/cmd/components.(*Proxy).Run\n  | \t/workspace/source/cmd/components/proxy.go:60\n  | github.com/milvus-io/milvus/cmd/roles.runComponent[...].func1\n  | \t/workspace/source/cmd/roles/roles.go:139\n  | github.com/milvus-io/milvus/pkg/v2/util/conc.Go[...].func1\n  | \t/workspace/source/pkg/util/conc/future.go:96\n  | runtime.goexit\n  | \t/usr/local/go/src/runtime/asm_amd64.s:1700\nWraps: (2) find no available mixcoord, check mixcoord state\nError types: (1) *withstack.withStack (2) *errutil.leafError"]
[2026/03/01 06:10:24.639 +00:00] [INFO] [streamingnode/service.go:304] ["StreamingNode try to wait for mixCoord ready"]
[2026/03/01 06:10:24.639 +00:00] [WARN] [grpcclient/client.go:476] ["fail to get grpc client in the retry state"] [client_role=mixcoord] [error="find no available mixcoord, check mixcoord state"] [errorVerbose="find no available mixcoord, check mixcoord state\n(1) attached stack trace\n  -- stack trace:\n  | github.com/milvus-io/milvus/internal/distributed/mixcoord/client.(*Client).getCompatibleMixCoordAddr\n  | \t/workspace/source/internal/distributed/mixcoord/client/client.go:145\n  | github.com/milvus-io/milvus/internal/distributed/mixcoord/client.(*Client).getMixCoordAddr\n  | \t/workspace/source/internal/distributed/mixcoord/client/client.go:120\n  | github.com/milvus-io/milvus/internal/util/grpcclient.(*ClientBase[...]).connect\n  | \t/workspace/source/internal/util/grpcclient/client.go:258\n  | github.com/milvus-io/milvus/internal/util/grpcclient.(*ClientBase[...]).GetGrpcClient\n  | \t/workspace/source/internal/util/grpcclient/client.go:224\n  | github.com/milvus-io/milvus/internal/util/grpcclient.(*ClientBase[...]).call.func1\n  | \t/workspace/source/internal/util/grpcclient/client.go:474\n  | github.com/milvus-io/milvus/internal/util/grpcclient.(*ClientBase[...]).call.func2\n  | \t/workspace/source/internal/util/grpcclient/client.go:491\n  | github.com/milvus-io/milvus/pkg/v2/util/retry.Handle\n  | \t/workspace/source/pkg/util/retry/retry.go:145\n  | github.com/milvus-io/milvus/internal/util/grpcclient.(*ClientBase[...]).call\n  | \t/workspace/source/internal/util/grpcclient/client.go:482\n  | github.com/milvus-io/milvus/internal/util/grpcclient.(*ClientBase[...]).Call\n  | \t/workspace/source/internal/util/grpcclient/client.go:569\n  | github.com/milvus-io/milvus/internal/util/grpcclient.(*ClientBase[...]).ReCall\n  | \t/workspace/source/internal/util/grpcclient/client.go:585\n  | github.com/milvus-io/milvus/internal/distributed/mixcoord/client.wrapGrpcCall[...]\n  | \t/workspace/source/internal/distributed/mixcoord/client/client.go:158\n  | github.com/milvus-io/milvus/internal/distributed/mixcoord/client.(*Client).GetComponentStates\n  | \t/workspace/source/internal/distributed/mixcoord/client/client.go:172\n  | github.com/milvus-io/milvus/internal/util/componentutil.WaitForComponentStates[...].func1\n  | \t/workspace/source/internal/util/componentutil/componentutil.go:39\n  | github.com/milvus-io/milvus/pkg/v2/util/retry.Do\n  | \t/workspace/source/pkg/util/retry/retry.go:54\n  | github.com/milvus-io/milvus/internal/util/componentutil.WaitForComponentStates[...]\n  | \t/workspace/source/internal/util/componentutil/componentutil.go:64\n  | github.com/milvus-io/milvus/internal/util/componentutil.WaitForComponentHealthy[...]\n  | \t/workspace/source/internal/util/componentutil/componentutil.go:85\n  | github.com/milvus-io/milvus/internal/distributed/proxy.(*Server).init\n  | \t/workspace/source/internal/distributed/proxy/service.go:493\n  | github.com/milvus-io/milvus/internal/distributed/proxy.(*Server).Run\n  | \t/workspace/source/internal/distributed/proxy/service.go:419\n  | github.com/milvus-io/milvus/cmd/components.(*Proxy).Run\n  | \t/workspace/source/cmd/components/proxy.go:60\n  | github.com/milvus-io/milvus/cmd/roles.runComponent[...].func1\n  | \t/workspace/source/cmd/roles/roles.go:139\n  | github.com/milvus-io/milvus/pkg/v2/util/conc.Go[...].func1\n  | \t/workspace/source/pkg/util/conc/future.go:96\n  | runtime.goexit\n  | \t/usr/local/go/src/runtime/asm_amd64.s:1700\nWraps: (2) find no available mixcoord, check mixcoord state\nError types: (1) *withstack.withStack (2) *errutil.leafError"]
[2026/03/01 06:10:24.639 +00:00] [INFO] [resolver/resolver_with_discoverer.go:152] ["service discover task started, listening..."] [prefix=by-dev/meta/session/streamingnode] [exclusive=false] [semver=">=2.6.0-dev"] [component=grpc-resolver] [scheme=milvus-session]
[2026/03/01 06:10:24.639 +00:00] [WARN] [retry/retry.go:147] ["retry func failed"] [retried=0] [caller=/workspace/source/internal/util/grpcclient/client.go:482] [error="empty grpc client: etcdserver: leader changed"] [errorVerbose="empty grpc client: etcdserver: leader changed\n(1) attached stack trace\n  -- stack trace:\n  | github.com/milvus-io/milvus/internal/util/grpcclient.(*ClientBase[...]).call.func2\n  | \t/workspace/source/internal/util/grpcclient/client.go:489\n  | github.com/milvus-io/milvus/pkg/v2/util/retry.Handle\n  | \t/workspace/source/pkg/util/retry/retry.go:145\n  | github.com/milvus-io/milvus/internal/util/grpcclient.(*ClientBase[...]).call\n  | \t/workspace/source/internal/util/grpcclient/client.go:482\n  | github.com/milvus-io/milvus/internal/util/grpcclient.(*ClientBase[...]).Call\n  | \t/workspace/source/internal/util/grpcclient/client.go:569\n  | github.com/milvus-io/milvus/internal/util/grpcclient.(*ClientBase[...]).ReCall\n  | \t/workspace/source/internal/util/grpcclient/client.go:585\n  | github.com/milvus-io/milvus/internal/distributed/mixcoord/client.wrapGrpcCall[...]\n  | \t/workspace/source/internal/distributed/mixcoord/client/client.go:158\n  | github.com/milvus-io/milvus/internal/distributed/mixcoord/client.(*Client).GetComponentStates\n  | \t/workspace/source/internal/distributed/mixcoord/client/client.go:172\n  | github.com/milvus-io/milvus/internal/util/componentutil.WaitForComponentStates[...].func1\n  | \t/workspace/source/internal/util/componentutil/componentutil.go:39\n  | github.com/milvus-io/milvus/pkg/v2/util/retry.Do\n  | \t/workspace/source/pkg/util/retry/retry.go:54\n  | github.com/milvus-io/milvus/internal/util/componentutil.WaitForComponentStates[...]\n  | \t/workspace/source/internal/util/componentutil/componentutil.go:64\n  | github.com/milvus-io/milvus/internal/util/componentutil.WaitForComponentHealthy[...]\n  | \t/workspace/source/internal/util/componentutil/componentutil.go:85\n  | github.com/milvus-io/milvus/internal/distributed/proxy.(*Server).init\n  | \t/workspace/source/internal/distributed/proxy/service.go:493\n  | github.com/milvus-io/milvus/internal/distributed/proxy.(*Server).Run\n  | \t/workspace/source/internal/distributed/proxy/service.go:419\n  | github.com/milvus-io/milvus/cmd/components.(*Proxy).Run\n  | \t/workspace/source/cmd/components/proxy.go:60\n  | github.com/milvus-io/milvus/cmd/roles.runComponent[...].func1\n  | \t/workspace/source/cmd/roles/roles.go:139\n  | github.com/milvus-io/milvus/pkg/v2/util/conc.Go[...].func1\n  | \t/workspace/source/pkg/util/conc/future.go:96\n  | runtime.goexit\n  | \t/usr/local/go/src/runtime/asm_amd64.s:1700\nWraps: (2) empty grpc client\nWraps: (3) etcdserver: leader changed\nError types: (1) *withstack.withStack (2) *errutil.withPrefix (3) rpctypes.EtcdError"]
[2026/03/01 06:10:24.640 +00:00] [WARN] [grpcclient/client.go:260] ["failed to get client address"] [error="find no available mixcoord, check mixcoord state"] [errorVerbose="find no available mixcoord, check mixcoord state\n(1) attached stack trace\n  -- stack trace:\n  | github.com/milvus-io/milvus/internal/distributed/mixcoord/client.(*Client).getCompatibleMixCoordAddr\n  | \t/workspace/source/internal/distributed/mixcoord/client/client.go:145\n  | github.com/milvus-io/milvus/internal/distributed/mixcoord/client.(*Client).getMixCoordAddr\n  | \t/workspace/source/internal/distributed/mixcoord/client/client.go:120\n  | github.com/milvus-io/milvus/internal/util/grpcclient.(*ClientBase[...]).connect\n  | \t/workspace/source/internal/util/grpcclient/client.go:258\n  | github.com/milvus-io/milvus/internal/util/grpcclient.(*ClientBase[...]).GetGrpcClient\n  | \t/workspace/source/internal/util/grpcclient/client.go:224\n  | github.com/milvus-io/milvus/internal/util/grpcclient.(*ClientBase[...]).call\n  | \t/workspace/source/internal/util/grpcclient/client.go:467\n  | github.com/milvus-io/milvus/internal/util/grpcclient.(*ClientBase[...]).Call\n  | \t/workspace/source/internal/util/grpcclient/client.go:569\n  | github.com/milvus-io/milvus/internal/util/grpcclient.(*ClientBase[...]).ReCall\n  | \t/workspace/source/internal/util/grpcclient/client.go:585\n  | github.com/milvus-io/milvus/internal/distributed/mixcoord/client.wrapGrpcCall[...]\n  | \t/workspace/source/internal/distributed/mixcoord/client/client.go:158\n  | github.com/milvus-io/milvus/internal/distributed/mixcoord/client.(*Client).GetComponentStates\n  | \t/workspace/source/internal/distributed/mixcoord/client/client.go:172\n  | github.com/milvus-io/milvus/internal/util/componentutil.WaitForComponentStates[...].func1\n  | \t/workspace/source/internal/util/componentutil/componentutil.go:39\n  | github.com/milvus-io/milvus/pkg/v2/util/retry.Do\n  | \t/workspace/source/pkg/util/retry/retry.go:54\n  | github.com/milvus-io/milvus/internal/util/componentutil.WaitForComponentStates[...]\n  | \t/workspace/source/internal/util/componentutil/componentutil.go:64\n  | github.com/milvus-io/milvus/internal/util/componentutil.WaitForComponentHealthy[...]\n  | \t/workspace/source/internal/util/componentutil/componentutil.go:85\n  | github.com/milvus-io/milvus/internal/distributed/streamingnode.(*Server).initMixCoord.func1.1\n  | \t/workspace/source/internal/distributed/streamingnode/service.go:305\n  | github.com/milvus-io/milvus/pkg/v2/util/retry.Do\n  | \t/workspace/source/pkg/util/retry/retry.go:54\n  | github.com/milvus-io/milvus/internal/distributed/streamingnode.(*Server).initMixCoord.func1\n  | \t/workspace/source/internal/distributed/streamingnode/service.go:297\n  | runtime.goexit\n  | \t/usr/local/go/src/runtime/asm_amd64.s:1700\nWraps: (2) find no available mixcoord, check mixcoord state\nError types: (1) *withstack.withStack (2) *errutil.leafError"]
hsuma@plnx-admin:~/ocp-ai-c
