oc apply -f - <<'EOF'
apiVersion: v1
kind: Pod
metadata:
  name: tls-test
  namespace: pai-dev
  labels:
    app: tls-test
spec:
  containers:
    - name: web
      image: registry.access.redhat.com/ubi9/httpd-24:latest
      ports:
        - containerPort: 8080
---
apiVersion: v1
kind: Service
metadata:
  name: tls-test
  namespace: pai-dev
spec:
  selector:
    app: tls-test
  ports:
    - name: http
      port: 8080
      targetPort: 8080
---
apiVersion: gateway.networking.k8s.io/v1
kind: HTTPRoute
metadata:
  name: tls-test-route
  namespace: pai-dev
spec:
  parentRefs:
    - name: pai-gateway
      namespace: openshift-ingress
      sectionName: https-dev
  hostnames:
    - tls-test.dev.ocp-ai.calix.local
  rules:
    - backendRefs:
        - name: tls-test
          port: 8080
EOF
