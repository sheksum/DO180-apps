<VirtualHost *:80>
    ServerName bamboo.calix.com
    ServerAlias pln-hoffman.calix.local bamboo

    # If you’re fronted by Nginx and want to lock it down, add:
    # <RequireAll>
    #   Require ip 10.172.248.105 10.172.16.8 127.0.0.1
    # </RequireAll>

    ProxyRequests Off
    ProxyPreserveHost On

    # allow proxying
    <Proxy *>
        Require all granted
    </Proxy>

    # PROXY the whole site to the backend app
    ProxyPass        /  http://pln-hoffman.calix.local:8085/  connectiontimeout=600 timeout=600
    ProxyPassReverse /  http://pln-hoffman.calix.local:8085/

    # (Optional) keep a simple docroot to avoid “file not found” if proxy is down
    DocumentRoot /var/www/html

    ErrorLog  ${APACHE_LOG_DIR}/bamboo_error.log
    CustomLog ${APACHE_LOG_DIR}/bamboo_access.log combined
</VirtualHost>
